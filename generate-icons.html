<!DOCTYPE html>
<html>
<head>
    <title>Icon Generator</title>
</head>
<body>
    <h1>Generating Icons...</h1>
    <canvas id="canvas"></canvas>
    <div id="status"></div>

    <script>
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const status = document.getElementById('status');

        async function generateIcons() {
            const response = await fetch('./public/icon.svg');
            const svgText = await response.text();
            const blob = new Blob([svgText], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            
            const img = new Image();
            img.onload = async () => {
                for (const size of sizes) {
                    canvas.width = size;
                    canvas.height = size;
                    ctx.clearRect(0, 0, size, size);
                    ctx.drawImage(img, 0, 0, size, size);
                    
                    const pngUrl = canvas.toDataURL('image/png');
                    const link = document.createElement('a');
                    link.download = `icon-${size}x${size}.png`;
                    link.href = pngUrl;
                    link.click();
                    
                    status.innerHTML += `<p>Generated: icon-${size}x${size}.png</p>`;
                    
                    // Wait a bit between downloads
                    await new Promise(resolve => setTimeout(resolve, 500));
                }
                
                status.innerHTML += '<p style="color: green; font-weight: bold;">All icons generated! Please move them to public/ folder.</p>';
                URL.revokeObjectURL(url);
            };
            
            img.src = url;
        }

        generateIcons();
    </script>
</body>
</html>
